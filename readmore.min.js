/*!
 * @preserve
 *
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: http://jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 *
 * Debounce function from http://davidwalsh.name/javascript-debounce-function
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){"use strict";function s(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function h(n){var t=++o;return String(n==null?"rmjs-":n)+t}function e(n){var t=n.clone().css({height:"auto",width:n.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(n),u=t.outerHeight(),i=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),f=n.data("defaultHeight"),r;t.remove();r=i||n.data("collapsedHeight")||f;n.data({expandedHeight:u,maxHeight:i,collapsedHeight:r}).css({maxHeight:"none"})}function c(n){if(!f[n.selector]){var t=" ";n.embedCSS&&n.blockCSS!==""&&(t+=n.selector+" + [data-readmore-toggle], "+n.selector+"[data-readmore]{"+n.blockCSS+"}");t+=n.selector+"[data-readmore]{transition: height "+n.speed+"ms;overflow: hidden;}",function(n,t){var i=n.createElement("style");i.type="text/css";i.styleSheet?i.styleSheet.cssText=t:i.appendChild(n.createTextNode(t));n.getElementsByTagName("head")[0].appendChild(i)}(document,t);f[n.selector]=!0}}function r(r,f){this.element=r;this.options=n.extend({},u,f);this.options.embedCSS&&c(this.options);this._defaults=u;this._name=t;this.init();window.addEventListener?(window.addEventListener("load",i),window.addEventListener("resize",i)):(window.attachEvent("load",i),window.attachEvent("resize",i))}var t="readmore",u={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More<\/a>',lessLink:'<a href="#">Close<\/a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},f={},o=0,i=s(function(){n("[data-readmore]").each(function(){var t=n(this),i=t.attr("aria-expanded")==="true";e(t);t.css({height:t.data(i?"expandedHeight":"collapsedHeight")})})},100);r.prototype={init:function(){var t=n(this.element),i,u,r,f;if(t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),e(t),i=t.data("collapsedHeight"),u=t.data("heightMargin"),t.outerHeight(!0)<=i+u)return!0;r=t.attr("id")||h();f=this.options.startOpen?this.options.lessLink:this.options.moreLink;t.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:r});t.after(n(f).on("click",function(n){return function(i){n.toggle(this,t[0],i)}}(this)).attr({"data-readmore-toggle":"","aria-controls":r}));this.options.startOpen||t.css({height:i})},toggle:function(t,i,r){r&&r.preventDefault();t||(t=n('[aria-controls="'+_this.element.id+'"]')[0]);i||(i=_this.element);var u=n(i),e="",o="",f=!1,s=u.data("collapsedHeight");u.height()<=s?(e=u.data("expandedHeight")+"px",o="lessLink",f=!0):(e=s,o="moreLink");this.options.beforeToggle(t,u,!f);u.css({height:e});u.on("transitionend",function(i){return function(){i.options.afterToggle(t,u,f);n(this).attr({"aria-expanded":f}).off("transitionend")}}(this));n(t).replaceWith(n(this.options[o]).on("click",function(n){return function(t){n.toggle(this,i,t)}}(this)).attr({"data-readmore-toggle":"","aria-controls":u.attr("id")}))},destroy:function(){n(this.element).each(function(){var t=n(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove();t.removeData()})}};n.fn.readmore=function(i){var u=arguments,f=this.selector;return(i=i||{},typeof i=="object")?this.each(function(){if(n.data(this,"plugin_"+t)){var u=n.data(this,"plugin_"+t);u.destroy.apply(u)}i.selector=f;n.data(this,"plugin_"+t,new r(this,i))}):typeof i=="string"&&i[0]!=="_"&&i!=="init"?this.each(function(){var f=n.data(this,"plugin_"+t);f instanceof r&&typeof f[i]=="function"&&f[i].apply(f,Array.prototype.slice.call(u,1))}):void 0}});
//# sourceMappingURL=readmore.min.js.map
